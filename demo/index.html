<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Custom Element</title>
    </head>
    <body>
        <script type="text/javascript" src="./custom-element.js"></script>
        <script type="text/javascript">
            var bars = new CustomElement.Bars(),
                Widget = CustomElement.createElement({
                    template: 'My name is <input value="{{name}}">.\
                        <hr>\
                        {{>yup name=name}}\
                        {{$boom name=name}}\
                        {{#if name.length}}\
                            {{$boom name=\'THIS BOOM NAME DOES NOT CHANGE\'}}\
                        {{/if}}',
                    partials: {
                        yup: '<strong>Name: {{name}}</strong>'
                    },
                    transforms: {
                        punctuate: function punctuate(a) {
                            return a + '.';
                        }
                    },
                    components: {
                        boom: CustomElement.createElement({
                            template: 'Boom - {{name}} - {{>yup name=name}}!'
                        }, function Boom(options) {
                            var _ = this;

                            CustomElement.call(_, options || {});

                            _.element.onclick = function(e) {
                                alert('click!');
                            };
                        }, bars)
                    }
                }, function Widget(options) {
                    var _ = this;

                    CustomElement.call(_, options || {});

                    _.element.onkeyup = function(e) {
                        _.set('name', e.target.value);
                    };
                }, bars);

            var widget = new Widget();

            widget.set('name', 'Dallas');
            widget.set('name', 'Nice');

            document.body.appendChild(widget.element);
        </script>
    </body>
</html>
